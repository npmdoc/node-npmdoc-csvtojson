<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="http://keyangxiang.com/blog/csv2json/">csvtojson (v1.1.4)</a>
</h1>
<h4>A tool concentrating on converting csv data to JSON with customised parser supporting</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.csvtojson">module csvtojson</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.csvtojson">
            function <span class="apidocSignatureSpan"></span>csvtojson
            <span class="apidocSignatureSpan">(param, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter">
            function <span class="apidocSignatureSpan">csvtojson.</span>Converter
            <span class="apidocSignatureSpan">(params, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype._flush">
            function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype._flush
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype._preProcessLines">
            function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype._preProcessLines
            <span class="apidocSignatureSpan">(lines, startIdx)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype._transform">
            function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype._transform
            <span class="apidocSignatureSpan">(data, encoding, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.checkAndFlush">
            function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.checkAndFlush
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.emitResult">
            function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.emitResult
            <span class="apidocSignatureSpan">(r)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.fromFile">
            function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.fromFile
            <span class="apidocSignatureSpan">(filePath, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.fromStream">
            function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.fromStream
            <span class="apidocSignatureSpan">(readStream, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.fromString">
            function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.fromString
            <span class="apidocSignatureSpan">(csvString, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.getEol">
            function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.getEol
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.initWorker">
            function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.initWorker
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.preFileLine">
            function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.preFileLine
            <span class="apidocSignatureSpan">(func)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.preProcessLine">
            function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.preProcessLine
            <span class="apidocSignatureSpan">(line, lineNumber)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.preProcessRaw">
            function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.preProcessRaw
            <span class="apidocSignatureSpan">(data, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.preRawData">
            function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.preRawData
            <span class="apidocSignatureSpan">(func)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.prepareData">
            function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.prepareData
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.processData">
            function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.processData
            <span class="apidocSignatureSpan">(data, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.processHead">
            function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.processHead
            <span class="apidocSignatureSpan">(fileLine, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.processResult">
            function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.processResult
            <span class="apidocSignatureSpan">(result)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.setPartialData">
            function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.setPartialData
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.transf">
            function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.transf
            <span class="apidocSignatureSpan">(func)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.workerProcess">
            function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.workerProcess
            <span class="apidocSignatureSpan">(fileLine, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.wrapCallback">
            function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.wrapCallback
            <span class="apidocSignatureSpan">(cb, clean)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Gruntfile">
            function <span class="apidocSignatureSpan">csvtojson.</span>Gruntfile
            <span class="apidocSignatureSpan">(grunt)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.csv2json">
            function <span class="apidocSignatureSpan">csvtojson.</span>csv2json
            <span class="apidocSignatureSpan">(param, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.toString">
            function <span class="apidocSignatureSpan">csvtojson.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">csvtojson.</span>interfaces</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csvtojson.Converter">module csvtojson.Converter</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.Converter">
            function <span class="apidocSignatureSpan">csvtojson.</span>Converter
            <span class="apidocSignatureSpan">(params, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.super_">
            function <span class="apidocSignatureSpan">csvtojson.Converter.</span>super_
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csvtojson.Converter.prototype">module csvtojson.Converter.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype._flush">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>_flush
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype._preProcessLines">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>_preProcessLines
            <span class="apidocSignatureSpan">(lines, startIdx)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype._transform">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>_transform
            <span class="apidocSignatureSpan">(data, encoding, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.checkAndFlush">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>checkAndFlush
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.emitResult">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>emitResult
            <span class="apidocSignatureSpan">(r)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.fromFile">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>fromFile
            <span class="apidocSignatureSpan">(filePath, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.fromStream">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>fromStream
            <span class="apidocSignatureSpan">(readStream, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.fromString">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>fromString
            <span class="apidocSignatureSpan">(csvString, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.getEol">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>getEol
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.initWorker">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>initWorker
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.preFileLine">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>preFileLine
            <span class="apidocSignatureSpan">(func)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.preProcessLine">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>preProcessLine
            <span class="apidocSignatureSpan">(line, lineNumber)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.preProcessRaw">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>preProcessRaw
            <span class="apidocSignatureSpan">(data, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.preRawData">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>preRawData
            <span class="apidocSignatureSpan">(func)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.prepareData">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>prepareData
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.processData">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>processData
            <span class="apidocSignatureSpan">(data, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.processHead">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>processHead
            <span class="apidocSignatureSpan">(fileLine, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.processResult">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>processResult
            <span class="apidocSignatureSpan">(result)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.setPartialData">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>setPartialData
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.transf">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>transf
            <span class="apidocSignatureSpan">(func)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.workerProcess">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>workerProcess
            <span class="apidocSignatureSpan">(fileLine, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.wrapCallback">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>wrapCallback
            <span class="apidocSignatureSpan">(cb, clean)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csvtojson.Converter.prototype._flush">module csvtojson.Converter.prototype._flush</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype._flush._flush">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>_flush
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csvtojson.Converter.prototype._preProcessLines">module csvtojson.Converter.prototype._preProcessLines</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype._preProcessLines._preProcessLines">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>_preProcessLines
            <span class="apidocSignatureSpan">(lines, startIdx)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csvtojson.Converter.prototype._transform">module csvtojson.Converter.prototype._transform</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype._transform._transform">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>_transform
            <span class="apidocSignatureSpan">(data, encoding, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csvtojson.Converter.prototype.checkAndFlush">module csvtojson.Converter.prototype.checkAndFlush</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.checkAndFlush.checkAndFlush">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>checkAndFlush
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csvtojson.Converter.prototype.emitResult">module csvtojson.Converter.prototype.emitResult</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.emitResult.emitResult">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>emitResult
            <span class="apidocSignatureSpan">(r)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csvtojson.Converter.prototype.fromFile">module csvtojson.Converter.prototype.fromFile</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.fromFile.fromFile">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>fromFile
            <span class="apidocSignatureSpan">(filePath, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csvtojson.Converter.prototype.fromStream">module csvtojson.Converter.prototype.fromStream</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.fromStream.fromStream">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>fromStream
            <span class="apidocSignatureSpan">(readStream, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csvtojson.Converter.prototype.fromString">module csvtojson.Converter.prototype.fromString</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.fromString.fromString">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>fromString
            <span class="apidocSignatureSpan">(csvString, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csvtojson.Converter.prototype.getEol">module csvtojson.Converter.prototype.getEol</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.getEol.getEol">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>getEol
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csvtojson.Converter.prototype.initWorker">module csvtojson.Converter.prototype.initWorker</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.initWorker.initWorker">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>initWorker
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csvtojson.Converter.prototype.preFileLine">module csvtojson.Converter.prototype.preFileLine</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.preFileLine.preFileLine">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>preFileLine
            <span class="apidocSignatureSpan">(func)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csvtojson.Converter.prototype.preProcessLine">module csvtojson.Converter.prototype.preProcessLine</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.preProcessLine.preProcessLine">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>preProcessLine
            <span class="apidocSignatureSpan">(line, lineNumber)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csvtojson.Converter.prototype.preProcessRaw">module csvtojson.Converter.prototype.preProcessRaw</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.preProcessRaw.preProcessRaw">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>preProcessRaw
            <span class="apidocSignatureSpan">(data, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csvtojson.Converter.prototype.preRawData">module csvtojson.Converter.prototype.preRawData</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.preRawData.preRawData">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>preRawData
            <span class="apidocSignatureSpan">(func)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csvtojson.Converter.prototype.prepareData">module csvtojson.Converter.prototype.prepareData</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.prepareData.prepareData">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>prepareData
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csvtojson.Converter.prototype.processData">module csvtojson.Converter.prototype.processData</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.processData.processData">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>processData
            <span class="apidocSignatureSpan">(data, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csvtojson.Converter.prototype.processHead">module csvtojson.Converter.prototype.processHead</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.processHead.processHead">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>processHead
            <span class="apidocSignatureSpan">(fileLine, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csvtojson.Converter.prototype.processResult">module csvtojson.Converter.prototype.processResult</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.processResult.processResult">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>processResult
            <span class="apidocSignatureSpan">(result)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csvtojson.Converter.prototype.setPartialData">module csvtojson.Converter.prototype.setPartialData</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.setPartialData.setPartialData">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>setPartialData
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csvtojson.Converter.prototype.transf">module csvtojson.Converter.prototype.transf</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.transf.transf">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>transf
            <span class="apidocSignatureSpan">(func)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csvtojson.Converter.prototype.workerProcess">module csvtojson.Converter.prototype.workerProcess</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.workerProcess.workerProcess">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>workerProcess
            <span class="apidocSignatureSpan">(fileLine, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csvtojson.Converter.prototype.wrapCallback">module csvtojson.Converter.prototype.wrapCallback</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Converter.prototype.wrapCallback.wrapCallback">
            function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>wrapCallback
            <span class="apidocSignatureSpan">(cb, clean)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csvtojson.Gruntfile">module csvtojson.Gruntfile</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.Gruntfile.Gruntfile">
            function <span class="apidocSignatureSpan">csvtojson.</span>Gruntfile
            <span class="apidocSignatureSpan">(grunt)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csvtojson.toString">module csvtojson.toString</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csvtojson.toString.toString">
            function <span class="apidocSignatureSpan">csvtojson.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csvtojson" id="apidoc.module.csvtojson">module csvtojson</a></h1>


    <h2>
        <a href="#apidoc.element.csvtojson.csvtojson" id="apidoc.element.csvtojson.csvtojson">
        function <span class="apidocSignatureSpan"></span>csvtojson
        <span class="apidocSignatureSpan">(param, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function constructor(param, options){
  return new module.exports.Converter(param,options)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter" id="apidoc.element.csvtojson.Converter">
        function <span class="apidocSignatureSpan">csvtojson.</span>Converter
        <span class="apidocSignatureSpan">(params, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Converter(params, options) {
  Transform.call(this, options);
  _param = defParam(params);
  this._options = options || {};
  this.param = _param;
  this.param._options = this._options;
  // this.resultObject = new Result(this);
  // this.pipe(this.resultObject); // it is important to have downstream for a transform otherwise it will stuck
  this.started = false;//indicate if parsing has started.
  this.recordNum = 0;
  this.lineNumber = 0; //file line number
  this._csvLineBuffer = "";
  this.lastIndex = 0; // index in result json array
  //this._pipe(this.lineParser).pipe(this.processor);
  // this.initNoFork();
  if (this.param.forked) {
    this.param.forked = false;
    this.workerNum = 2;
  }
  this.flushCb = null;
  this.processEnd = false;
  this.sequenceBuffer = [];
  this._needJson = null;
  this._needEmitResult = null;
  this._needEmitFinalResult = null;
  this._needEmitJson = null;
  this._needPush = null;
  this._needEmitCsv = null;
  this._csvTransf = null;
  this.finalResult = [];
  // this.on("data", function() {});
  this.on("error", emitDone(this));
  this.on("end", emitDone(this));
  this.initWorker();
  process.nextTick(function () {
    if (this._needEmitFinalResult === null) {
      this._needEmitFinalResult = this.listeners("end_parsed").length &gt; 0
    }
    if (this._needEmitResult === null) {
      this._needEmitResult = this.listeners("record_parsed").length &gt; 0
    }
    if (this._needEmitJson === null) {
      this._needEmitJson = this.listeners("json").length &gt; 0
    }
    if (this._needEmitCsv === null) {
      this._needEmitCsv = this.listeners("csv").length &gt; 0
    }
    if (this._needJson === null) {
      this._needJson = this._needEmitJson || this._needEmitFinalResult || this._needEmitResult || this.transform || this._options
.objectMode;
    }
    if (this._needPush === null) {
      this._needPush = this.listeners("data").length &gt; 0 || this.listeners("readable").length &gt; 0
      // this._needPush=false;
    }
    this.param._needParseJson = this._needJson || this._needPush;


  }.bind(this))
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
&gt;csvtojson --help

# Params

The constructor of csv Converter allows parameters:

```js
var converter=new require("csvtojson").<span class="apidocCodeKeywordSpan">Converter</span>({
  constructResult:false,
  workerNum:4,
  noheader:true
});
```

Following parameters are supported:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype._flush" id="apidoc.element.csvtojson.Converter.prototype._flush">
        function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype._flush
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Converter.prototype._flush = function (cb) {
  var self = this;
  this.flushCb = function () {
    self.emit("end_parsed", self.finalResult);
    if (self.workerMgr) {
      self.workerMgr.destroyWorker();
    }
    cb()
    if (!self._needPush) {
      self.emit("end")
    }
  };
  if (this._csvLineBuffer.length &gt; 0) {
    if (this._csvLineBuffer[this._csvLineBuffer.length - 1] != this.getEol()) {
      this._csvLineBuffer += this.getEol();
    }
    this.processData(this._csvLineBuffer, function () {
      this.checkAndFlush();
    }.bind(this));
  } else {
    this.checkAndFlush();
  }
  return;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype._preProcessLines" id="apidoc.element.csvtojson.Converter.prototype._preProcessLines">
        function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype._preProcessLines
        <span class="apidocSignatureSpan">(lines, startIdx)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Converter.prototype._preProcessLines = function (lines, startIdx) {
  var rtn = []
  for (var i = 0; i &lt; lines.length; i++) {
    var result = this.preProcessLine(lines[i], startIdx + i + 1)
    if (typeof result === "string") {
      rtn.push(result)
    } else {
      rtn.push(lines[i])
      this.emit("error", new Error("preProcessLine should return a string but got: " + JSON.stringify(result)))
    }
  }
  return rtn
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype._transform" id="apidoc.element.csvtojson.Converter.prototype._transform">
        function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype._transform
        <span class="apidocSignatureSpan">(data, encoding, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Converter.prototype._transform = function (data, encoding, cb) {
  if (this.param.toArrayString &amp;&amp; this.started === false) {
    this.started = true;
    if (this._needPush) {
      this.push("[" + eol, "utf8");
    }
  }
  data = data.toString("utf8");
  var self = this;
  this.preProcessRaw(data, function (d) {
    if (d &amp;&amp; d.length &gt; 0) {
      self.processData(self.prepareData(d), cb);
    } else {
      cb();
    }
  })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.checkAndFlush" id="apidoc.element.csvtojson.Converter.prototype.checkAndFlush">
        function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.checkAndFlush
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Converter.prototype.checkAndFlush = function () {
  if (this._csvLineBuffer.length !== 0) {
    this.emit("error", CSVError.unclosed_quote(this.recordNum, this._csvLineBuffer), this._csvLineBuffer);
  }
  if (this.param.toArrayString &amp;&amp; this._needPush) {
    this.push(eol + "]", "utf8");
  }
  if (this.workerMgr &amp;&amp; this.workerMgr.isRunning()) {
    this.workerMgr.drain = function () {
      this.flushCb();
    }.bind(this);
  } else {
    this.flushCb();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.emitResult" id="apidoc.element.csvtojson.Converter.prototype.emitResult">
        function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.emitResult
        <span class="apidocSignatureSpan">(r)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Converter.prototype.emitResult = function (r) {
  var index = r.index;
  var row = r.row;
  var result = r.json;
  var resultJson = null;
  var resultStr = null;
  if (typeof result === "string") {
    resultStr = result;
  } else {
    resultJson = result;
  }
  if (resultJson === null &amp;&amp; this._needJson) {
    resultJson = JSON.parse(resultStr)
    if (typeof row === "string") {
      row = JSON.parse(row)
    }
  }
  if (this.transform &amp;&amp; typeof this.transform === "function") {
    this.transform(resultJson, row, index);
    resultStr = null;
  }
  if (this._needEmitJson) {
    this.emit("json", resultJson, index)
  }
  if (this._needEmitCsv) {
    if (typeof row === "string") {
      row = JSON.parse(row)
    }
    this.emit("csv", row, index)
  }
  if (this.param.constructResult &amp;&amp; this._needEmitFinalResult) {
    this.finalResult.push(resultJson)
  }
  if (this._needEmitResult) {
    this.emit("record_parsed", resultJson, row, index);
  }
  if (this.param.toArrayString &amp;&amp; index &gt; 0 &amp;&amp; this._needPush) {
    this.push("," + eol);
  }
  if (this._options &amp;&amp; this._options.objectMode) {
    this.push(resultJson);
  } else {
    if (this._needPush) {
      if (resultStr === null) {
        resultStr = JSON.stringify(resultJson)
      }
      this.push(!this.param.toArrayString ? resultStr + eol : resultStr, "utf8");
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.fromFile" id="apidoc.element.csvtojson.Converter.prototype.fromFile">
        function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.fromFile
        <span class="apidocSignatureSpan">(filePath, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Converter.prototype.fromFile = function (filePath, cb) {
  var fs = require('fs');
  var rs = null;
  this.wrapCallback(cb, function () {
    if (rs &amp;&amp; rs.destroy) {
      rs.destroy();
    }
  });
  fs.exists(filePath, function (exist) {
    if (exist) {
      rs = fs.createReadStream(filePath);
      rs.pipe(this);
    } else {
      this.emit('error', new Error("File not exist"))
    }
  }.bind(this));
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.fromStream" id="apidoc.element.csvtojson.Converter.prototype.fromStream">
        function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.fromStream
        <span class="apidocSignatureSpan">(readStream, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Converter.prototype.fromStream = function (readStream, cb) {
  if (cb &amp;&amp; typeof cb === "function") {
    this.wrapCallback(cb);
  }
  readStream.pipe(this);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.fromString" id="apidoc.element.csvtojson.Converter.prototype.fromString">
        function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.fromString
        <span class="apidocSignatureSpan">(csvString, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Converter.prototype.fromString = function (csvString, cb) {
  if (typeof csvString != "string") {
    return cb(new Error("Passed CSV Data is not a string."));
  }
  if (cb &amp;&amp; typeof cb === "function") {
    this.wrapCallback(cb, function () {
    });
  }
  process.nextTick(function () {
    this.end(csvString)
  }.bind(this))
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.getEol" id="apidoc.element.csvtojson.Converter.prototype.getEol">
        function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.getEol
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Converter.prototype.getEol = function (data) {
  if (!this.param.eol &amp;&amp; data) {
    for (var i = 0; i &lt; data.length; i++) {
      if (data[i] === "\r") {
        if (data[i + 1] === "\n") {
          this.param.eol = "\r\n";
        } else {
          this.param.eol = "\r";
        }
        return this.param.eol;
      } else if (data[i] === "\n") {
        this.param.eol = "\n";
        return this.param.eol;
      }
    }
    this.param.eol = eol;
  }

  return this.param.eol || eol;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.initWorker" id="apidoc.element.csvtojson.Converter.prototype.initWorker">
        function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.initWorker
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Converter.prototype.initWorker = function () {
  var workerNum = this.param.workerNum - 1;
  if (workerNum &gt; 0) {
    this.workerMgr = workerMgr();
    this.workerMgr.initWorker(workerNum, this.param);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.preFileLine" id="apidoc.element.csvtojson.Converter.prototype.preFileLine">
        function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.preFileLine
        <span class="apidocSignatureSpan">(func)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Converter.prototype.preFileLine = function (func) {
  this.preProcessLine = func;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.preProcessLine" id="apidoc.element.csvtojson.Converter.prototype.preProcessLine">
        function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.preProcessLine
        <span class="apidocSignatureSpan">(line, lineNumber)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Converter.prototype.preProcessLine = function (line, lineNumber) {
  return line;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.preProcessRaw" id="apidoc.element.csvtojson.Converter.prototype.preProcessRaw">
        function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.preProcessRaw
        <span class="apidocSignatureSpan">(data, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Converter.prototype.preProcessRaw = function (data, cb) {
  cb(data);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.preRawData" id="apidoc.element.csvtojson.Converter.prototype.preRawData">
        function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.preRawData
        <span class="apidocSignatureSpan">(func)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Converter.prototype.preRawData = function (func) {
  this.preProcessRaw = func;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.prepareData" id="apidoc.element.csvtojson.Converter.prototype.prepareData">
        function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.prepareData
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Converter.prototype.prepareData = function (data) {
  return this._csvLineBuffer + data;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.processData" id="apidoc.element.csvtojson.Converter.prototype.processData">
        function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.processData
        <span class="apidocSignatureSpan">(data, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Converter.prototype.processData = function (data, cb) {
  var params = this.param;
  if (params.ignoreEmpty &amp;&amp; !params._headers) {
    data = data.trimLeft();
  }
  var fileLines = fileline(data, this.param)
  if (fileLines.lines.length &gt; 0) {
    if (this.preProcessLine &amp;&amp; typeof this.preProcessLine === "function") {
      fileLines.lines = this._preProcessLines(fileLines.lines, this.lastIndex)
    }
    if (!params._headers) { //header is not inited. init header
      this.processHead(fileLines, cb);
    } else {
      if (params.workerNum &lt;= 1) {
        var lines = fileLineToCSVLine(fileLines, params);
        this.setPartialData(lines.partial);
        var jsonArr = linesToJson(lines.lines, params, this.recordNum);
        this.processResult(jsonArr)
        this.lastIndex += jsonArr.length;
        this.recordNum += jsonArr.length;
        cb();
      } else {
        this.workerProcess(fileLines, cb);
      }
    }
  } else {
    this.setPartialData(fileLines.partial)
    cb();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.processHead" id="apidoc.element.csvtojson.Converter.prototype.processHead">
        function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.processHead
        <span class="apidocSignatureSpan">(fileLine, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Converter.prototype.processHead = function (fileLine, cb) {
  var params = this.param;
  if (!params._headers) { //header is not inited. init header
    var lines = fileLineToCSVLine(fileLine, params);
    this.setPartialData(lines.partial);
    if (params.noheader) {
      if (params.headers) {
        params._headers = params.headers;
      } else {
        params._headers = [];
      }
    } else {
      var headerRow = lines.lines.shift();
      if (params.headers) {
        params._headers = params.headers;
      } else {
        params._headers = headerRow;
      }
    }
    if (this.param.workerNum &gt; 1) {
      this.workerMgr.setParams(params);
    }
    var res = linesToJson(lines.lines, params, 0);
    this.processResult(res);
    this.lastIndex += res.length;
    this.recordNum += res.length;
    cb();
  } else {
    cb();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.processResult" id="apidoc.element.csvtojson.Converter.prototype.processResult">
        function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.processResult
        <span class="apidocSignatureSpan">(result)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Converter.prototype.processResult = function (result) {

  for (var i = 0; i &lt; result.length; i++) {
    var r = result[i];
    if (r.err) {
      this.emit("error", r.err);
    } else {
      this.emitResult(r);
    }
  }
  // this.lastIndex+=result.length;
  // cb();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.setPartialData" id="apidoc.element.csvtojson.Converter.prototype.setPartialData">
        function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.setPartialData
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Converter.prototype.setPartialData = function (d) {
  this._csvLineBuffer = d;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.transf" id="apidoc.element.csvtojson.Converter.prototype.transf">
        function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.transf
        <span class="apidocSignatureSpan">(func)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Converter.prototype.transf = function (func) {
  this.transform = func;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.workerProcess" id="apidoc.element.csvtojson.Converter.prototype.workerProcess">
        function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.workerProcess
        <span class="apidocSignatureSpan">(fileLine, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Converter.prototype.workerProcess = function (fileLine, cb) {
  var self = this;
  var line = fileLine
  var eol = this.getEol()
  this.setPartialData(line.partial)
  this.workerMgr.sendWorker(line.lines.join(eol) + eol, this.lastIndex, cb, function (results, lastIndex) {
    var cur = self.sequenceBuffer[0];
    if (cur.idx === lastIndex) {
      cur.result = results;
      var records = [];
      while (self.sequenceBuffer[0] &amp;&amp; self.sequenceBuffer[0].result) {
        var buf = self.sequenceBuffer.shift();
        records = records.concat(buf.result)
      }
      self.processResult(records)
      self.recordNum += records.length;
    } else {
      for (var i = 0; i &lt; self.sequenceBuffer.length; i++) {
        var buf = self.sequenceBuffer[i];
        if (buf.idx === lastIndex) {
          buf.result = results;
          break;
        }
      }
    }
    // self.processResult(JSON.parse(results),function(){},true);
  })
  this.sequenceBuffer.push({
    idx: this.lastIndex,
    result: null
  });
  this.lastIndex += line.lines.length;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.wrapCallback" id="apidoc.element.csvtojson.Converter.prototype.wrapCallback">
        function <span class="apidocSignatureSpan">csvtojson.</span>Converter.prototype.wrapCallback
        <span class="apidocSignatureSpan">(cb, clean)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Converter.prototype.wrapCallback = function (cb, clean) {

  if (clean === undefined) {
    clean = function () { }
  }
  if (cb &amp;&amp; typeof cb === "function") {
    this.once("end_parsed", function (res) {
      if (!this.hasError) {
        cb(null, res);
      }
    }.bind(this));
  }
  this.once("error", function (err) {
    this.hasError = true;
    if (cb &amp;&amp; typeof cb === "function") {
      cb(err);
    }
    clean();
  }.bind(this));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Gruntfile" id="apidoc.element.csvtojson.Gruntfile">
        function <span class="apidocSignatureSpan">csvtojson.</span>Gruntfile
        <span class="apidocSignatureSpan">(grunt)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Gruntfile = function (grunt) {
  require('load-grunt-tasks')(grunt);
  grunt.loadTasks('./devops/grunt-wiki');
  var files = ['Gruntfile.js', 'libs/**/*.js', 'libs/**/**/*.js', 'test/*.js', 'bin/csvtojson',
    'bin/csvtojson.js', 'devops/*.js'
  ];
  grunt.initConfig({
    uglify: {
      client: {
        options: {
          mangle: true,
          banner:"/*Automatically Generated. Do not modify.*/\n"
        },
        src: "./dist/csvtojson.js",
        dest: "./dist/csvtojson.min.js",
      }
    },
    browserify: {
      dist: {
        src: "./browser_index.js",
        dest: "./dist/csvtojson.js"
      }
    },
    jshint: {
      all: {
        src: files,
        options: {
          'globals': { // false makes global variable readonly true is read/write
            'describe': false,
            'it': false
          },
          // see the docs for full list of options http://jshint.com/docs/options/
          'bitwise': true,
          'curly': true,
          'eqeqeq': true,
          'forin': true,
          'freeze': true,
          'funcscope': true,
          'futurehostile': true,
          'latedef': false,
          'maxcomplexity': 10, // arbitrary but anything over 10 quickly becomes hard to think about
          'maxdepth': 3, // also arbitrary. Deeply nested functions should be refactored to use helper functions.
          'maxparams': 4, // arbitrary. Consider using an object literal instead of list of params.
          'nocomma': true,
          //'nonew': true, // In the future when all objects are refactored to avoid new.
          //'strict': true, // in the future when all functions are closer to adhering to strict.
          'notypeof': true,
          'undef': true,
          'unused': true,
          'node': true // defines node globals
        }
      }
    },
    mochaTest: {
      test: {
        src: [files[3]]
      }
    },
    watch: {
      files: files,
      tasks: ['newer:jshint:all', 'mochaTest'],
      options: {
        spawn: false,
        event: ['changed', 'added']
      }
    },
    wiki: {},
  });
  grunt.registerTask('default', ['watch']);
  grunt.registerTask('test', ['mochaTest']);
  grunt.registerTask("build:browser",["browserify:dist","uglify:client"]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.csv2json" id="apidoc.element.csvtojson.csv2json">
        function <span class="apidocSignatureSpan">csvtojson.</span>csv2json
        <span class="apidocSignatureSpan">(param, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function constructor(param, options){
  return new module.exports.Converter(param,options)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.toString" id="apidoc.element.csvtojson.toString">
        function <span class="apidocSignatureSpan">csvtojson.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function () {
    return text;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
# Parse String
To parse a string, simply call fromString(csvString,callback) method. The callback parameter is optional.

For example:

```js
var testData=__dirname+"/data/testData";
var data=fs.readFileSync(testData).<span class="apidocCodeKeywordSpan">toString</span>();
var csvConverter=new CSVConverter();

//end_parsed will be emitted once parsing finished
csvConverter.on("end_parsed", function(jsonObj) {
    //final result poped here as normal.
});
csvConverter.fromString(data,function(err,jsonObj){
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csvtojson.Converter" id="apidoc.module.csvtojson.Converter">module csvtojson.Converter</a></h1>


    <h2>
        <a href="#apidoc.element.csvtojson.Converter.Converter" id="apidoc.element.csvtojson.Converter.Converter">
        function <span class="apidocSignatureSpan">csvtojson.</span>Converter
        <span class="apidocSignatureSpan">(params, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Converter(params, options) {
  Transform.call(this, options);
  _param = defParam(params);
  this._options = options || {};
  this.param = _param;
  this.param._options = this._options;
  // this.resultObject = new Result(this);
  // this.pipe(this.resultObject); // it is important to have downstream for a transform otherwise it will stuck
  this.started = false;//indicate if parsing has started.
  this.recordNum = 0;
  this.lineNumber = 0; //file line number
  this._csvLineBuffer = "";
  this.lastIndex = 0; // index in result json array
  //this._pipe(this.lineParser).pipe(this.processor);
  // this.initNoFork();
  if (this.param.forked) {
    this.param.forked = false;
    this.workerNum = 2;
  }
  this.flushCb = null;
  this.processEnd = false;
  this.sequenceBuffer = [];
  this._needJson = null;
  this._needEmitResult = null;
  this._needEmitFinalResult = null;
  this._needEmitJson = null;
  this._needPush = null;
  this._needEmitCsv = null;
  this._csvTransf = null;
  this.finalResult = [];
  // this.on("data", function() {});
  this.on("error", emitDone(this));
  this.on("end", emitDone(this));
  this.initWorker();
  process.nextTick(function () {
    if (this._needEmitFinalResult === null) {
      this._needEmitFinalResult = this.listeners("end_parsed").length &gt; 0
    }
    if (this._needEmitResult === null) {
      this._needEmitResult = this.listeners("record_parsed").length &gt; 0
    }
    if (this._needEmitJson === null) {
      this._needEmitJson = this.listeners("json").length &gt; 0
    }
    if (this._needEmitCsv === null) {
      this._needEmitCsv = this.listeners("csv").length &gt; 0
    }
    if (this._needJson === null) {
      this._needJson = this._needEmitJson || this._needEmitFinalResult || this._needEmitResult || this.transform || this._options
.objectMode;
    }
    if (this._needPush === null) {
      this._needPush = this.listeners("data").length &gt; 0 || this.listeners("readable").length &gt; 0
      // this._needPush=false;
    }
    this.param._needParseJson = this._needJson || this._needPush;


  }.bind(this))
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
&gt;csvtojson --help

# Params

The constructor of csv Converter allows parameters:

```js
var converter=new require("csvtojson").<span class="apidocCodeKeywordSpan">Converter</span>({
  constructResult:false,
  workerNum:4,
  noheader:true
});
```

Following parameters are supported:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.super_" id="apidoc.element.csvtojson.Converter.super_">
        function <span class="apidocSignatureSpan">csvtojson.Converter.</span>super_
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Transform(options) {
  if (!(this instanceof Transform))
    return new Transform(options);

  Duplex.call(this, options);

  this._transformState = new TransformState(this);

  var stream = this;

  // start out asking for a readable event once data is transformed.
  this._readableState.needReadable = true;

  // we have implemented the _read method, and done the other things
  // that Readable wants before the first _read call, so unset the
  // sync guard flag.
  this._readableState.sync = false;

  if (options) {
    if (typeof options.transform === 'function')
      this._transform = options.transform;

    if (typeof options.flush === 'function')
      this._flush = options.flush;
  }

  // When the writable side finishes, then flush out anything remaining.
  this.once('prefinish', function() {
    if (typeof this._flush === 'function')
      this._flush(function(er) {
        done(stream, er);
      });
    else
      done(stream);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csvtojson.Converter.prototype" id="apidoc.module.csvtojson.Converter.prototype">module csvtojson.Converter.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype._flush" id="apidoc.element.csvtojson.Converter.prototype._flush">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>_flush
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_flush = function (cb) {
  var self = this;
  this.flushCb = function () {
    self.emit("end_parsed", self.finalResult);
    if (self.workerMgr) {
      self.workerMgr.destroyWorker();
    }
    cb()
    if (!self._needPush) {
      self.emit("end")
    }
  };
  if (this._csvLineBuffer.length &gt; 0) {
    if (this._csvLineBuffer[this._csvLineBuffer.length - 1] != this.getEol()) {
      this._csvLineBuffer += this.getEol();
    }
    this.processData(this._csvLineBuffer, function () {
      this.checkAndFlush();
    }.bind(this));
  } else {
    this.checkAndFlush();
  }
  return;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype._preProcessLines" id="apidoc.element.csvtojson.Converter.prototype._preProcessLines">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>_preProcessLines
        <span class="apidocSignatureSpan">(lines, startIdx)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_preProcessLines = function (lines, startIdx) {
  var rtn = []
  for (var i = 0; i &lt; lines.length; i++) {
    var result = this.preProcessLine(lines[i], startIdx + i + 1)
    if (typeof result === "string") {
      rtn.push(result)
    } else {
      rtn.push(lines[i])
      this.emit("error", new Error("preProcessLine should return a string but got: " + JSON.stringify(result)))
    }
  }
  return rtn
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype._transform" id="apidoc.element.csvtojson.Converter.prototype._transform">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>_transform
        <span class="apidocSignatureSpan">(data, encoding, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_transform = function (data, encoding, cb) {
  if (this.param.toArrayString &amp;&amp; this.started === false) {
    this.started = true;
    if (this._needPush) {
      this.push("[" + eol, "utf8");
    }
  }
  data = data.toString("utf8");
  var self = this;
  this.preProcessRaw(data, function (d) {
    if (d &amp;&amp; d.length &gt; 0) {
      self.processData(self.prepareData(d), cb);
    } else {
      cb();
    }
  })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.checkAndFlush" id="apidoc.element.csvtojson.Converter.prototype.checkAndFlush">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>checkAndFlush
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">checkAndFlush = function () {
  if (this._csvLineBuffer.length !== 0) {
    this.emit("error", CSVError.unclosed_quote(this.recordNum, this._csvLineBuffer), this._csvLineBuffer);
  }
  if (this.param.toArrayString &amp;&amp; this._needPush) {
    this.push(eol + "]", "utf8");
  }
  if (this.workerMgr &amp;&amp; this.workerMgr.isRunning()) {
    this.workerMgr.drain = function () {
      this.flushCb();
    }.bind(this);
  } else {
    this.flushCb();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.emitResult" id="apidoc.element.csvtojson.Converter.prototype.emitResult">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>emitResult
        <span class="apidocSignatureSpan">(r)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emitResult = function (r) {
  var index = r.index;
  var row = r.row;
  var result = r.json;
  var resultJson = null;
  var resultStr = null;
  if (typeof result === "string") {
    resultStr = result;
  } else {
    resultJson = result;
  }
  if (resultJson === null &amp;&amp; this._needJson) {
    resultJson = JSON.parse(resultStr)
    if (typeof row === "string") {
      row = JSON.parse(row)
    }
  }
  if (this.transform &amp;&amp; typeof this.transform === "function") {
    this.transform(resultJson, row, index);
    resultStr = null;
  }
  if (this._needEmitJson) {
    this.emit("json", resultJson, index)
  }
  if (this._needEmitCsv) {
    if (typeof row === "string") {
      row = JSON.parse(row)
    }
    this.emit("csv", row, index)
  }
  if (this.param.constructResult &amp;&amp; this._needEmitFinalResult) {
    this.finalResult.push(resultJson)
  }
  if (this._needEmitResult) {
    this.emit("record_parsed", resultJson, row, index);
  }
  if (this.param.toArrayString &amp;&amp; index &gt; 0 &amp;&amp; this._needPush) {
    this.push("," + eol);
  }
  if (this._options &amp;&amp; this._options.objectMode) {
    this.push(resultJson);
  } else {
    if (this._needPush) {
      if (resultStr === null) {
        resultStr = JSON.stringify(resultJson)
      }
      this.push(!this.param.toArrayString ? resultStr + eol : resultStr, "utf8");
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.fromFile" id="apidoc.element.csvtojson.Converter.prototype.fromFile">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>fromFile
        <span class="apidocSignatureSpan">(filePath, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromFile = function (filePath, cb) {
  var fs = require('fs');
  var rs = null;
  this.wrapCallback(cb, function () {
    if (rs &amp;&amp; rs.destroy) {
      rs.destroy();
    }
  });
  fs.exists(filePath, function (exist) {
    if (exist) {
      rs = fs.createReadStream(filePath);
      rs.pipe(this);
    } else {
      this.emit('error', new Error("File not exist"))
    }
  }.bind(this));
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Or use fromFile convenient function

```js
//Converter Class
var Converter = require("csvtojson").Converter;
var converter = new Converter({});
converter.<span class="apidocCodeKeywordSpan">fromFile</span>("./file.csv",function(err,result){

});
```

#### From Web

To convert any CSV data from readable stream just simply pipe in the data.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.fromStream" id="apidoc.element.csvtojson.Converter.prototype.fromStream">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>fromStream
        <span class="apidocSignatureSpan">(readStream, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromStream = function (readStream, cb) {
  if (cb &amp;&amp; typeof cb === "function") {
    this.wrapCallback(cb);
  }
  readStream.pipe(this);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
### From CSV Stream

```js
//const csvReadStream -- Readable stream for csv source
const csv=require('csvtojson')

csv()
.<span class="apidocCodeKeywordSpan">fromStream</span>(csvReadStream)
.on('csv',(csvRow)=&gt;{
	// csvRow is an array
})
.on('done',(error)=&gt;{

})
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.fromString" id="apidoc.element.csvtojson.Converter.prototype.fromString">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>fromString
        <span class="apidocSignatureSpan">(csvString, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromString = function (csvString, cb) {
  if (typeof csvString != "string") {
    return cb(new Error("Passed CSV Data is not a string."));
  }
  if (cb &amp;&amp; typeof cb === "function") {
    this.wrapCallback(cb, function () {
    });
  }
  process.nextTick(function () {
    this.end(csvString)
  }.bind(this))
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

#### From String

```js
var Converter = require("csvtojson").Converter;
var converter = new Converter({});
converter.<span class="apidocCodeKeywordSpan">fromString</span>(csvString, function(err,result){
  //your code here
});
```

### Command Line Tools

&gt;csvtojson &lt;csv file path&gt;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.getEol" id="apidoc.element.csvtojson.Converter.prototype.getEol">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>getEol
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getEol = function (data) {
  if (!this.param.eol &amp;&amp; data) {
    for (var i = 0; i &lt; data.length; i++) {
      if (data[i] === "\r") {
        if (data[i + 1] === "\n") {
          this.param.eol = "\r\n";
        } else {
          this.param.eol = "\r";
        }
        return this.param.eol;
      } else if (data[i] === "\n") {
        this.param.eol = "\n";
        return this.param.eol;
      }
    }
    this.param.eol = eol;
  }

  return this.param.eol || eol;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.initWorker" id="apidoc.element.csvtojson.Converter.prototype.initWorker">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>initWorker
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initWorker = function () {
  var workerNum = this.param.workerNum - 1;
  if (workerNum &gt; 0) {
    this.workerMgr = workerMgr();
    this.workerMgr.initWorker(workerNum, this.param);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.preFileLine" id="apidoc.element.csvtojson.Converter.prototype.preFileLine">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>preFileLine
        <span class="apidocSignatureSpan">(func)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">preFileLine = function (func) {
  this.preProcessLine = func;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
the function in `preRawData` will be called directly with the string from upper stream.

### CSV File Line Hook

```js
const csv=require('csvtojson')
csv()
.<span class="apidocCodeKeywordSpan">preFileLine</span>((fileLineString, lineIdx)=&gt;{
	if (lineIdx === 2){
		return fileLineString.replace('some value','another value')
	}
	return fileLineString
})
.on('json',(jsonObj)=&gt;{
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.preProcessLine" id="apidoc.element.csvtojson.Converter.prototype.preProcessLine">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>preProcessLine
        <span class="apidocSignatureSpan">(line, lineNumber)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">preProcessLine = function (line, lineNumber) {
  return line;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.preProcessRaw" id="apidoc.element.csvtojson.Converter.prototype.preProcessRaw">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>preProcessRaw
        <span class="apidocSignatureSpan">(data, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">preProcessRaw = function (data, cb) {
  cb(data);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.preRawData" id="apidoc.element.csvtojson.Converter.prototype.preRawData">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>preRawData
        <span class="apidocSignatureSpan">(func)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">preRawData = function (func) {
  this.preProcessRaw = func;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
## Hook &amp; Transform

### Raw CSV Data Hook

```js
const csv=require('csvtojson')
csv()
.<span class="apidocCodeKeywordSpan">preRawData</span>((csvRawData,cb)=&gt;{
	var newData=csvRawData.replace('some value','another value')
	cb(newData);
})
.on('json',(jsonObj)=&gt;{

});
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.prepareData" id="apidoc.element.csvtojson.Converter.prototype.prepareData">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>prepareData
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prepareData = function (data) {
  return this._csvLineBuffer + data;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.processData" id="apidoc.element.csvtojson.Converter.prototype.processData">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>processData
        <span class="apidocSignatureSpan">(data, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">processData = function (data, cb) {
  var params = this.param;
  if (params.ignoreEmpty &amp;&amp; !params._headers) {
    data = data.trimLeft();
  }
  var fileLines = fileline(data, this.param)
  if (fileLines.lines.length &gt; 0) {
    if (this.preProcessLine &amp;&amp; typeof this.preProcessLine === "function") {
      fileLines.lines = this._preProcessLines(fileLines.lines, this.lastIndex)
    }
    if (!params._headers) { //header is not inited. init header
      this.processHead(fileLines, cb);
    } else {
      if (params.workerNum &lt;= 1) {
        var lines = fileLineToCSVLine(fileLines, params);
        this.setPartialData(lines.partial);
        var jsonArr = linesToJson(lines.lines, params, this.recordNum);
        this.processResult(jsonArr)
        this.lastIndex += jsonArr.length;
        this.recordNum += jsonArr.length;
        cb();
      } else {
        this.workerProcess(fileLines, cb);
      }
    }
  } else {
    this.setPartialData(fileLines.partial)
    cb();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.processHead" id="apidoc.element.csvtojson.Converter.prototype.processHead">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>processHead
        <span class="apidocSignatureSpan">(fileLine, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">processHead = function (fileLine, cb) {
  var params = this.param;
  if (!params._headers) { //header is not inited. init header
    var lines = fileLineToCSVLine(fileLine, params);
    this.setPartialData(lines.partial);
    if (params.noheader) {
      if (params.headers) {
        params._headers = params.headers;
      } else {
        params._headers = [];
      }
    } else {
      var headerRow = lines.lines.shift();
      if (params.headers) {
        params._headers = params.headers;
      } else {
        params._headers = headerRow;
      }
    }
    if (this.param.workerNum &gt; 1) {
      this.workerMgr.setParams(params);
    }
    var res = linesToJson(lines.lines, params, 0);
    this.processResult(res);
    this.lastIndex += res.length;
    this.recordNum += res.length;
    cb();
  } else {
    cb();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.processResult" id="apidoc.element.csvtojson.Converter.prototype.processResult">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>processResult
        <span class="apidocSignatureSpan">(result)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">processResult = function (result) {

  for (var i = 0; i &lt; result.length; i++) {
    var r = result[i];
    if (r.err) {
      this.emit("error", r.err);
    } else {
      this.emitResult(r);
    }
  }
  // this.lastIndex+=result.length;
  // cb();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.setPartialData" id="apidoc.element.csvtojson.Converter.prototype.setPartialData">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>setPartialData
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setPartialData = function (d) {
  this._csvLineBuffer = d;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.transf" id="apidoc.element.csvtojson.Converter.prototype.transf">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>transf
        <span class="apidocSignatureSpan">(func)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">transf = function (func) {
  this.transform = func;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...


### Result transform

```js
const csv=require('csvtojson')
csv()
.<span class="apidocCodeKeywordSpan">transf</span>((jsonObj,csvRow,index)=&gt;{
	jsonObj.myNewKey='some value'
})
.on('json',(jsonObj)=&gt;{
	console.log(jsonObj.myNewKey) // some value
});
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.workerProcess" id="apidoc.element.csvtojson.Converter.prototype.workerProcess">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>workerProcess
        <span class="apidocSignatureSpan">(fileLine, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">workerProcess = function (fileLine, cb) {
  var self = this;
  var line = fileLine
  var eol = this.getEol()
  this.setPartialData(line.partial)
  this.workerMgr.sendWorker(line.lines.join(eol) + eol, this.lastIndex, cb, function (results, lastIndex) {
    var cur = self.sequenceBuffer[0];
    if (cur.idx === lastIndex) {
      cur.result = results;
      var records = [];
      while (self.sequenceBuffer[0] &amp;&amp; self.sequenceBuffer[0].result) {
        var buf = self.sequenceBuffer.shift();
        records = records.concat(buf.result)
      }
      self.processResult(records)
      self.recordNum += records.length;
    } else {
      for (var i = 0; i &lt; self.sequenceBuffer.length; i++) {
        var buf = self.sequenceBuffer[i];
        if (buf.idx === lastIndex) {
          buf.result = results;
          break;
        }
      }
    }
    // self.processResult(JSON.parse(results),function(){},true);
  })
  this.sequenceBuffer.push({
    idx: this.lastIndex,
    result: null
  });
  this.lastIndex += line.lines.length;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.wrapCallback" id="apidoc.element.csvtojson.Converter.prototype.wrapCallback">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>wrapCallback
        <span class="apidocSignatureSpan">(cb, clean)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">wrapCallback = function (cb, clean) {

  if (clean === undefined) {
    clean = function () { }
  }
  if (cb &amp;&amp; typeof cb === "function") {
    this.once("end_parsed", function (res) {
      if (!this.hasError) {
        cb(null, res);
      }
    }.bind(this));
  }
  this.once("error", function (err) {
    this.hasError = true;
    if (cb &amp;&amp; typeof cb === "function") {
      cb(err);
    }
    clean();
  }.bind(this));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csvtojson.Converter.prototype._flush" id="apidoc.module.csvtojson.Converter.prototype._flush">module csvtojson.Converter.prototype._flush</a></h1>


    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype._flush._flush" id="apidoc.element.csvtojson.Converter.prototype._flush._flush">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>_flush
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_flush = function (cb) {
  var self = this;
  this.flushCb = function () {
    self.emit("end_parsed", self.finalResult);
    if (self.workerMgr) {
      self.workerMgr.destroyWorker();
    }
    cb()
    if (!self._needPush) {
      self.emit("end")
    }
  };
  if (this._csvLineBuffer.length &gt; 0) {
    if (this._csvLineBuffer[this._csvLineBuffer.length - 1] != this.getEol()) {
      this._csvLineBuffer += this.getEol();
    }
    this.processData(this._csvLineBuffer, function () {
      this.checkAndFlush();
    }.bind(this));
  } else {
    this.checkAndFlush();
  }
  return;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csvtojson.Converter.prototype._preProcessLines" id="apidoc.module.csvtojson.Converter.prototype._preProcessLines">module csvtojson.Converter.prototype._preProcessLines</a></h1>


    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype._preProcessLines._preProcessLines" id="apidoc.element.csvtojson.Converter.prototype._preProcessLines._preProcessLines">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>_preProcessLines
        <span class="apidocSignatureSpan">(lines, startIdx)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_preProcessLines = function (lines, startIdx) {
  var rtn = []
  for (var i = 0; i &lt; lines.length; i++) {
    var result = this.preProcessLine(lines[i], startIdx + i + 1)
    if (typeof result === "string") {
      rtn.push(result)
    } else {
      rtn.push(lines[i])
      this.emit("error", new Error("preProcessLine should return a string but got: " + JSON.stringify(result)))
    }
  }
  return rtn
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csvtojson.Converter.prototype._transform" id="apidoc.module.csvtojson.Converter.prototype._transform">module csvtojson.Converter.prototype._transform</a></h1>


    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype._transform._transform" id="apidoc.element.csvtojson.Converter.prototype._transform._transform">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>_transform
        <span class="apidocSignatureSpan">(data, encoding, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_transform = function (data, encoding, cb) {
  if (this.param.toArrayString &amp;&amp; this.started === false) {
    this.started = true;
    if (this._needPush) {
      this.push("[" + eol, "utf8");
    }
  }
  data = data.toString("utf8");
  var self = this;
  this.preProcessRaw(data, function (d) {
    if (d &amp;&amp; d.length &gt; 0) {
      self.processData(self.prepareData(d), cb);
    } else {
      cb();
    }
  })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csvtojson.Converter.prototype.checkAndFlush" id="apidoc.module.csvtojson.Converter.prototype.checkAndFlush">module csvtojson.Converter.prototype.checkAndFlush</a></h1>


    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.checkAndFlush.checkAndFlush" id="apidoc.element.csvtojson.Converter.prototype.checkAndFlush.checkAndFlush">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>checkAndFlush
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">checkAndFlush = function () {
  if (this._csvLineBuffer.length !== 0) {
    this.emit("error", CSVError.unclosed_quote(this.recordNum, this._csvLineBuffer), this._csvLineBuffer);
  }
  if (this.param.toArrayString &amp;&amp; this._needPush) {
    this.push(eol + "]", "utf8");
  }
  if (this.workerMgr &amp;&amp; this.workerMgr.isRunning()) {
    this.workerMgr.drain = function () {
      this.flushCb();
    }.bind(this);
  } else {
    this.flushCb();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csvtojson.Converter.prototype.emitResult" id="apidoc.module.csvtojson.Converter.prototype.emitResult">module csvtojson.Converter.prototype.emitResult</a></h1>


    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.emitResult.emitResult" id="apidoc.element.csvtojson.Converter.prototype.emitResult.emitResult">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>emitResult
        <span class="apidocSignatureSpan">(r)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emitResult = function (r) {
  var index = r.index;
  var row = r.row;
  var result = r.json;
  var resultJson = null;
  var resultStr = null;
  if (typeof result === "string") {
    resultStr = result;
  } else {
    resultJson = result;
  }
  if (resultJson === null &amp;&amp; this._needJson) {
    resultJson = JSON.parse(resultStr)
    if (typeof row === "string") {
      row = JSON.parse(row)
    }
  }
  if (this.transform &amp;&amp; typeof this.transform === "function") {
    this.transform(resultJson, row, index);
    resultStr = null;
  }
  if (this._needEmitJson) {
    this.emit("json", resultJson, index)
  }
  if (this._needEmitCsv) {
    if (typeof row === "string") {
      row = JSON.parse(row)
    }
    this.emit("csv", row, index)
  }
  if (this.param.constructResult &amp;&amp; this._needEmitFinalResult) {
    this.finalResult.push(resultJson)
  }
  if (this._needEmitResult) {
    this.emit("record_parsed", resultJson, row, index);
  }
  if (this.param.toArrayString &amp;&amp; index &gt; 0 &amp;&amp; this._needPush) {
    this.push("," + eol);
  }
  if (this._options &amp;&amp; this._options.objectMode) {
    this.push(resultJson);
  } else {
    if (this._needPush) {
      if (resultStr === null) {
        resultStr = JSON.stringify(resultJson)
      }
      this.push(!this.param.toArrayString ? resultStr + eol : resultStr, "utf8");
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csvtojson.Converter.prototype.fromFile" id="apidoc.module.csvtojson.Converter.prototype.fromFile">module csvtojson.Converter.prototype.fromFile</a></h1>


    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.fromFile.fromFile" id="apidoc.element.csvtojson.Converter.prototype.fromFile.fromFile">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>fromFile
        <span class="apidocSignatureSpan">(filePath, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromFile = function (filePath, cb) {
  var fs = require('fs');
  var rs = null;
  this.wrapCallback(cb, function () {
    if (rs &amp;&amp; rs.destroy) {
      rs.destroy();
    }
  });
  fs.exists(filePath, function (exist) {
    if (exist) {
      rs = fs.createReadStream(filePath);
      rs.pipe(this);
    } else {
      this.emit('error', new Error("File not exist"))
    }
  }.bind(this));
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Or use fromFile convenient function

```js
//Converter Class
var Converter = require("csvtojson").Converter;
var converter = new Converter({});
converter.<span class="apidocCodeKeywordSpan">fromFile</span>("./file.csv",function(err,result){

});
```

#### From Web

To convert any CSV data from readable stream just simply pipe in the data.
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csvtojson.Converter.prototype.fromStream" id="apidoc.module.csvtojson.Converter.prototype.fromStream">module csvtojson.Converter.prototype.fromStream</a></h1>


    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.fromStream.fromStream" id="apidoc.element.csvtojson.Converter.prototype.fromStream.fromStream">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>fromStream
        <span class="apidocSignatureSpan">(readStream, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromStream = function (readStream, cb) {
  if (cb &amp;&amp; typeof cb === "function") {
    this.wrapCallback(cb);
  }
  readStream.pipe(this);
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
### From CSV Stream

```js
//const csvReadStream -- Readable stream for csv source
const csv=require('csvtojson')

csv()
.<span class="apidocCodeKeywordSpan">fromStream</span>(csvReadStream)
.on('csv',(csvRow)=&gt;{
	// csvRow is an array
})
.on('done',(error)=&gt;{

})
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csvtojson.Converter.prototype.fromString" id="apidoc.module.csvtojson.Converter.prototype.fromString">module csvtojson.Converter.prototype.fromString</a></h1>


    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.fromString.fromString" id="apidoc.element.csvtojson.Converter.prototype.fromString.fromString">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>fromString
        <span class="apidocSignatureSpan">(csvString, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fromString = function (csvString, cb) {
  if (typeof csvString != "string") {
    return cb(new Error("Passed CSV Data is not a string."));
  }
  if (cb &amp;&amp; typeof cb === "function") {
    this.wrapCallback(cb, function () {
    });
  }
  process.nextTick(function () {
    this.end(csvString)
  }.bind(this))
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

#### From String

```js
var Converter = require("csvtojson").Converter;
var converter = new Converter({});
converter.<span class="apidocCodeKeywordSpan">fromString</span>(csvString, function(err,result){
  //your code here
});
```

### Command Line Tools

&gt;csvtojson &lt;csv file path&gt;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csvtojson.Converter.prototype.getEol" id="apidoc.module.csvtojson.Converter.prototype.getEol">module csvtojson.Converter.prototype.getEol</a></h1>


    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.getEol.getEol" id="apidoc.element.csvtojson.Converter.prototype.getEol.getEol">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>getEol
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getEol = function (data) {
  if (!this.param.eol &amp;&amp; data) {
    for (var i = 0; i &lt; data.length; i++) {
      if (data[i] === "\r") {
        if (data[i + 1] === "\n") {
          this.param.eol = "\r\n";
        } else {
          this.param.eol = "\r";
        }
        return this.param.eol;
      } else if (data[i] === "\n") {
        this.param.eol = "\n";
        return this.param.eol;
      }
    }
    this.param.eol = eol;
  }

  return this.param.eol || eol;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csvtojson.Converter.prototype.initWorker" id="apidoc.module.csvtojson.Converter.prototype.initWorker">module csvtojson.Converter.prototype.initWorker</a></h1>


    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.initWorker.initWorker" id="apidoc.element.csvtojson.Converter.prototype.initWorker.initWorker">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>initWorker
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initWorker = function () {
  var workerNum = this.param.workerNum - 1;
  if (workerNum &gt; 0) {
    this.workerMgr = workerMgr();
    this.workerMgr.initWorker(workerNum, this.param);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csvtojson.Converter.prototype.preFileLine" id="apidoc.module.csvtojson.Converter.prototype.preFileLine">module csvtojson.Converter.prototype.preFileLine</a></h1>


    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.preFileLine.preFileLine" id="apidoc.element.csvtojson.Converter.prototype.preFileLine.preFileLine">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>preFileLine
        <span class="apidocSignatureSpan">(func)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">preFileLine = function (func) {
  this.preProcessLine = func;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
the function in `preRawData` will be called directly with the string from upper stream.

### CSV File Line Hook

```js
const csv=require('csvtojson')
csv()
.<span class="apidocCodeKeywordSpan">preFileLine</span>((fileLineString, lineIdx)=&gt;{
	if (lineIdx === 2){
		return fileLineString.replace('some value','another value')
	}
	return fileLineString
})
.on('json',(jsonObj)=&gt;{
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csvtojson.Converter.prototype.preProcessLine" id="apidoc.module.csvtojson.Converter.prototype.preProcessLine">module csvtojson.Converter.prototype.preProcessLine</a></h1>


    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.preProcessLine.preProcessLine" id="apidoc.element.csvtojson.Converter.prototype.preProcessLine.preProcessLine">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>preProcessLine
        <span class="apidocSignatureSpan">(line, lineNumber)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">preProcessLine = function (line, lineNumber) {
  return line;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csvtojson.Converter.prototype.preProcessRaw" id="apidoc.module.csvtojson.Converter.prototype.preProcessRaw">module csvtojson.Converter.prototype.preProcessRaw</a></h1>


    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.preProcessRaw.preProcessRaw" id="apidoc.element.csvtojson.Converter.prototype.preProcessRaw.preProcessRaw">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>preProcessRaw
        <span class="apidocSignatureSpan">(data, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">preProcessRaw = function (data, cb) {
  cb(data);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csvtojson.Converter.prototype.preRawData" id="apidoc.module.csvtojson.Converter.prototype.preRawData">module csvtojson.Converter.prototype.preRawData</a></h1>


    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.preRawData.preRawData" id="apidoc.element.csvtojson.Converter.prototype.preRawData.preRawData">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>preRawData
        <span class="apidocSignatureSpan">(func)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">preRawData = function (func) {
  this.preProcessRaw = func;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
## Hook &amp; Transform

### Raw CSV Data Hook

```js
const csv=require('csvtojson')
csv()
.<span class="apidocCodeKeywordSpan">preRawData</span>((csvRawData,cb)=&gt;{
	var newData=csvRawData.replace('some value','another value')
	cb(newData);
})
.on('json',(jsonObj)=&gt;{

});
```
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csvtojson.Converter.prototype.prepareData" id="apidoc.module.csvtojson.Converter.prototype.prepareData">module csvtojson.Converter.prototype.prepareData</a></h1>


    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.prepareData.prepareData" id="apidoc.element.csvtojson.Converter.prototype.prepareData.prepareData">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>prepareData
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prepareData = function (data) {
  return this._csvLineBuffer + data;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csvtojson.Converter.prototype.processData" id="apidoc.module.csvtojson.Converter.prototype.processData">module csvtojson.Converter.prototype.processData</a></h1>


    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.processData.processData" id="apidoc.element.csvtojson.Converter.prototype.processData.processData">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>processData
        <span class="apidocSignatureSpan">(data, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">processData = function (data, cb) {
  var params = this.param;
  if (params.ignoreEmpty &amp;&amp; !params._headers) {
    data = data.trimLeft();
  }
  var fileLines = fileline(data, this.param)
  if (fileLines.lines.length &gt; 0) {
    if (this.preProcessLine &amp;&amp; typeof this.preProcessLine === "function") {
      fileLines.lines = this._preProcessLines(fileLines.lines, this.lastIndex)
    }
    if (!params._headers) { //header is not inited. init header
      this.processHead(fileLines, cb);
    } else {
      if (params.workerNum &lt;= 1) {
        var lines = fileLineToCSVLine(fileLines, params);
        this.setPartialData(lines.partial);
        var jsonArr = linesToJson(lines.lines, params, this.recordNum);
        this.processResult(jsonArr)
        this.lastIndex += jsonArr.length;
        this.recordNum += jsonArr.length;
        cb();
      } else {
        this.workerProcess(fileLines, cb);
      }
    }
  } else {
    this.setPartialData(fileLines.partial)
    cb();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csvtojson.Converter.prototype.processHead" id="apidoc.module.csvtojson.Converter.prototype.processHead">module csvtojson.Converter.prototype.processHead</a></h1>


    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.processHead.processHead" id="apidoc.element.csvtojson.Converter.prototype.processHead.processHead">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>processHead
        <span class="apidocSignatureSpan">(fileLine, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">processHead = function (fileLine, cb) {
  var params = this.param;
  if (!params._headers) { //header is not inited. init header
    var lines = fileLineToCSVLine(fileLine, params);
    this.setPartialData(lines.partial);
    if (params.noheader) {
      if (params.headers) {
        params._headers = params.headers;
      } else {
        params._headers = [];
      }
    } else {
      var headerRow = lines.lines.shift();
      if (params.headers) {
        params._headers = params.headers;
      } else {
        params._headers = headerRow;
      }
    }
    if (this.param.workerNum &gt; 1) {
      this.workerMgr.setParams(params);
    }
    var res = linesToJson(lines.lines, params, 0);
    this.processResult(res);
    this.lastIndex += res.length;
    this.recordNum += res.length;
    cb();
  } else {
    cb();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csvtojson.Converter.prototype.processResult" id="apidoc.module.csvtojson.Converter.prototype.processResult">module csvtojson.Converter.prototype.processResult</a></h1>


    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.processResult.processResult" id="apidoc.element.csvtojson.Converter.prototype.processResult.processResult">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>processResult
        <span class="apidocSignatureSpan">(result)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">processResult = function (result) {

  for (var i = 0; i &lt; result.length; i++) {
    var r = result[i];
    if (r.err) {
      this.emit("error", r.err);
    } else {
      this.emitResult(r);
    }
  }
  // this.lastIndex+=result.length;
  // cb();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csvtojson.Converter.prototype.setPartialData" id="apidoc.module.csvtojson.Converter.prototype.setPartialData">module csvtojson.Converter.prototype.setPartialData</a></h1>


    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.setPartialData.setPartialData" id="apidoc.element.csvtojson.Converter.prototype.setPartialData.setPartialData">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>setPartialData
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setPartialData = function (d) {
  this._csvLineBuffer = d;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csvtojson.Converter.prototype.transf" id="apidoc.module.csvtojson.Converter.prototype.transf">module csvtojson.Converter.prototype.transf</a></h1>


    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.transf.transf" id="apidoc.element.csvtojson.Converter.prototype.transf.transf">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>transf
        <span class="apidocSignatureSpan">(func)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">transf = function (func) {
  this.transform = func;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...


### Result transform

```js
const csv=require('csvtojson')
csv()
.<span class="apidocCodeKeywordSpan">transf</span>((jsonObj,csvRow,index)=&gt;{
	jsonObj.myNewKey='some value'
})
.on('json',(jsonObj)=&gt;{
	console.log(jsonObj.myNewKey) // some value
});
```
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csvtojson.Converter.prototype.workerProcess" id="apidoc.module.csvtojson.Converter.prototype.workerProcess">module csvtojson.Converter.prototype.workerProcess</a></h1>


    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.workerProcess.workerProcess" id="apidoc.element.csvtojson.Converter.prototype.workerProcess.workerProcess">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>workerProcess
        <span class="apidocSignatureSpan">(fileLine, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">workerProcess = function (fileLine, cb) {
  var self = this;
  var line = fileLine
  var eol = this.getEol()
  this.setPartialData(line.partial)
  this.workerMgr.sendWorker(line.lines.join(eol) + eol, this.lastIndex, cb, function (results, lastIndex) {
    var cur = self.sequenceBuffer[0];
    if (cur.idx === lastIndex) {
      cur.result = results;
      var records = [];
      while (self.sequenceBuffer[0] &amp;&amp; self.sequenceBuffer[0].result) {
        var buf = self.sequenceBuffer.shift();
        records = records.concat(buf.result)
      }
      self.processResult(records)
      self.recordNum += records.length;
    } else {
      for (var i = 0; i &lt; self.sequenceBuffer.length; i++) {
        var buf = self.sequenceBuffer[i];
        if (buf.idx === lastIndex) {
          buf.result = results;
          break;
        }
      }
    }
    // self.processResult(JSON.parse(results),function(){},true);
  })
  this.sequenceBuffer.push({
    idx: this.lastIndex,
    result: null
  });
  this.lastIndex += line.lines.length;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csvtojson.Converter.prototype.wrapCallback" id="apidoc.module.csvtojson.Converter.prototype.wrapCallback">module csvtojson.Converter.prototype.wrapCallback</a></h1>


    <h2>
        <a href="#apidoc.element.csvtojson.Converter.prototype.wrapCallback.wrapCallback" id="apidoc.element.csvtojson.Converter.prototype.wrapCallback.wrapCallback">
        function <span class="apidocSignatureSpan">csvtojson.Converter.prototype.</span>wrapCallback
        <span class="apidocSignatureSpan">(cb, clean)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">wrapCallback = function (cb, clean) {

  if (clean === undefined) {
    clean = function () { }
  }
  if (cb &amp;&amp; typeof cb === "function") {
    this.once("end_parsed", function (res) {
      if (!this.hasError) {
        cb(null, res);
      }
    }.bind(this));
  }
  this.once("error", function (err) {
    this.hasError = true;
    if (cb &amp;&amp; typeof cb === "function") {
      cb(err);
    }
    clean();
  }.bind(this));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csvtojson.Gruntfile" id="apidoc.module.csvtojson.Gruntfile">module csvtojson.Gruntfile</a></h1>


    <h2>
        <a href="#apidoc.element.csvtojson.Gruntfile.Gruntfile" id="apidoc.element.csvtojson.Gruntfile.Gruntfile">
        function <span class="apidocSignatureSpan">csvtojson.</span>Gruntfile
        <span class="apidocSignatureSpan">(grunt)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Gruntfile = function (grunt) {
  require('load-grunt-tasks')(grunt);
  grunt.loadTasks('./devops/grunt-wiki');
  var files = ['Gruntfile.js', 'libs/**/*.js', 'libs/**/**/*.js', 'test/*.js', 'bin/csvtojson',
    'bin/csvtojson.js', 'devops/*.js'
  ];
  grunt.initConfig({
    uglify: {
      client: {
        options: {
          mangle: true,
          banner:"/*Automatically Generated. Do not modify.*/\n"
        },
        src: "./dist/csvtojson.js",
        dest: "./dist/csvtojson.min.js",
      }
    },
    browserify: {
      dist: {
        src: "./browser_index.js",
        dest: "./dist/csvtojson.js"
      }
    },
    jshint: {
      all: {
        src: files,
        options: {
          'globals': { // false makes global variable readonly true is read/write
            'describe': false,
            'it': false
          },
          // see the docs for full list of options http://jshint.com/docs/options/
          'bitwise': true,
          'curly': true,
          'eqeqeq': true,
          'forin': true,
          'freeze': true,
          'funcscope': true,
          'futurehostile': true,
          'latedef': false,
          'maxcomplexity': 10, // arbitrary but anything over 10 quickly becomes hard to think about
          'maxdepth': 3, // also arbitrary. Deeply nested functions should be refactored to use helper functions.
          'maxparams': 4, // arbitrary. Consider using an object literal instead of list of params.
          'nocomma': true,
          //'nonew': true, // In the future when all objects are refactored to avoid new.
          //'strict': true, // in the future when all functions are closer to adhering to strict.
          'notypeof': true,
          'undef': true,
          'unused': true,
          'node': true // defines node globals
        }
      }
    },
    mochaTest: {
      test: {
        src: [files[3]]
      }
    },
    watch: {
      files: files,
      tasks: ['newer:jshint:all', 'mochaTest'],
      options: {
        spawn: false,
        event: ['changed', 'added']
      }
    },
    wiki: {},
  });
  grunt.registerTask('default', ['watch']);
  grunt.registerTask('test', ['mochaTest']);
  grunt.registerTask("build:browser",["browserify:dist","uglify:client"]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csvtojson.toString" id="apidoc.module.csvtojson.toString">module csvtojson.toString</a></h1>


    <h2>
        <a href="#apidoc.element.csvtojson.toString.toString" id="apidoc.element.csvtojson.toString.toString">
        function <span class="apidocSignatureSpan">csvtojson.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toString() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
# Parse String
To parse a string, simply call fromString(csvString,callback) method. The callback parameter is optional.

For example:

```js
var testData=__dirname+"/data/testData";
var data=fs.readFileSync(testData).<span class="apidocCodeKeywordSpan">toString</span>();
var csvConverter=new CSVConverter();

//end_parsed will be emitted once parsing finished
csvConverter.on("end_parsed", function(jsonObj) {
    //final result poped here as normal.
});
csvConverter.fromString(data,function(err,jsonObj){
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>